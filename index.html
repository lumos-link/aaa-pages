<!DOCTYPE html>
<html lang="zh-CN">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>AI智能标书平台</title>
    <script src="https://cdn.tailwindcss.com"></script>
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.4.0/css/all.min.css">
    <style>
        * { margin: 0; padding: 0; box-sizing: border-box; }
        body { font-family: -apple-system, BlinkMacSystemFont, 'Segoe UI', sans-serif; }
        iframe { border: none; width: 100%; height: 100%; }
        .top-nav-item { transition: all 0.2s ease; }
        .top-nav-item.active { color: #2563eb; font-weight: 600; }
        .step-item.active { background: #eff6ff; color: #1d4ed8; border-left: 3px solid #2563eb; }
    </style>
</head>
<body class="bg-gray-100">
    <div class="min-h-screen flex flex-col">
        <header class="bg-white border-b border-gray-200 px-6 py-4 shadow-sm">
            <div class="flex items-center justify-between flex-wrap gap-4">
                <div class="flex items-center gap-3">
                    <div class="w-10 h-10 bg-blue-600 text-white rounded-lg flex items-center justify-center font-bold text-lg">标</div>
                    <div>
                        <div class="text-lg font-semibold text-gray-900">AI智能标书平台</div>
                        <div class="text-xs text-gray-400 uppercase tracking-wider">Bid Copilot</div>
                    </div>
                </div>
                <nav class="flex flex-wrap gap-4 text-sm text-gray-500">
                    <button class="top-nav-item active" data-page="标书工厂.html" onclick="loadPage('标书工厂.html', 'top')">
                        标书工厂
                    </button>
                    <button class="top-nav-item" data-page="资源资产库.html" onclick="loadPage('资源资产库.html', 'top')">
                        资源资产库
                    </button>
                    <button class="top-nav-item hidden" data-page="协同中心.html" onclick="loadPage('协同中心.html', 'top')">
                        协同中心
                    </button>
                    <button class="top-nav-item" data-page="智能工具箱.html" onclick="loadPage('智能工具箱.html', 'top')">
                        智能工具箱
                    </button>
                    <button class="top-nav-item" data-page="数据洞察.html" onclick="loadPage('数据洞察.html', 'top')">
                        数据洞察
                    </button>
                </nav>
                <div class="flex items-center gap-4 text-sm text-gray-500">
                    <button class="px-3 py-1.5 rounded-full bg-blue-50 text-blue-600 text-xs flex items-center gap-1"><i class="fas fa-lightbulb"></i> 智能提示</button>
                    <div class="w-9 h-9 rounded-full bg-gray-200 flex items-center justify-center text-sm font-medium">ZS</div>
                </div>
            </div>
        </header>
        <div class="flex flex-1 overflow-hidden">
            <aside id="mainSidebar" class="hidden lg:flex lg:flex-col w-64 bg-white border-r border-gray-200" style="display: none;">
                <div class="px-6 pt-6 pb-2 text-xs font-semibold text-gray-400 tracking-wider">标书流程</div>
                <nav class="flex-1 overflow-y-auto text-sm">
                    <button class="step-item hidden w-full text-left px-6 py-3 flex items-center gap-2" data-page="协同审校.html" onclick="loadPage('协同审校.html', 'step')">
                        <span class="w-6 h-6 rounded-full bg-gray-100 text-gray-500 flex items-center justify-center text-xs font-semibold">4</span>
                        协同审校
                    </button>
                    <button class="step-item hidden w-full text-left px-6 py-3 flex items-center gap-2" data-page="导出交付.html" onclick="loadPage('导出交付.html', 'step')">
                        <span class="w-6 h-6 rounded-full bg-gray-100 text-gray-500 flex items-center justify-center text-xs font-semibold">5</span>
                        导出交付
                    </button>
                </nav>
            </aside>
            <main class="flex-1 bg-gray-50">
                <iframe id="mainFrame" src="标书工厂.html" class="w-full h-full bg-white"></iframe>
            </main>
        </div>
    </div>
    <script>
        const topNavItems = document.querySelectorAll('.top-nav-item');
        const stepItems = document.querySelectorAll('.step-item');
        const pageBelongsToStep = new Set(['标书制作.html','招标解读.html','标书设置.html','标书编写.html','协同审校.html','导出交付.html']);

        function setActiveTop(page) {
            topNavItems.forEach(btn => {
                if (btn.dataset.page === page) {
                    btn.classList.add('active');
                } else {
                    btn.classList.remove('active');
                }
            });
        }

        function setActiveStep(page) {
            stepItems.forEach(btn => {
                if (btn.dataset.page === page) {
                    btn.classList.add('active');
                } else {
                    btn.classList.remove('active');
                }
            });
        }

        function loadPage(page, source = 'top') {
            const frame = document.getElementById('mainFrame');
            const sidebar = document.getElementById('mainSidebar');
            if (!frame) return;
            frame.src = page;

            // 默认隐藏左侧栏（因为当前没有可见的流程步骤）
            // 如果将来需要显示某些页面的侧边栏，可以在这里添加逻辑
            if (sidebar) {
                sidebar.style.display = 'none';
            }

            if (source === 'top') {
                setActiveTop(page);
                if (!pageBelongsToStep.has(page)) {
                    setActiveStep('');
                }
            } else if (source === 'step') {
                setActiveStep(page);
                setActiveTop('标书工厂.html');
            }
        }
        window.loadPage = loadPage;
        window.addEventListener('load', () => loadPage('标书工厂.html', 'top'));
    </script>
</body>
</html>
